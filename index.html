<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">
    <title>It is not Super Mario game, but definitely for Mario</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="index.js"></script>
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
</head>

<body id="t" class="offline">
<!--    <div id="messageBox" class="sendmessage">-->
<!--        <h1 style="text-align: center;font-family: 'Open Sans', sans-serif;">Press Space to start</h1>-->
<!--        <div class="niokbutton" onclick="okbuttonsend()"></div>-->
<!--    </div>-->
    <div id="main-frame-error" class="interstitial-wrapper">
<!--        <div id="loader">Loading...</div>-->
        <div id="happy-b8-box"><h1>ðŸŽ‰ Happy Birthday Mario! ðŸŽ‰</h1></div>
        <div id="main-content">
            <div class="icon icon-offline" alt=""></div>
        </div>
        <div id="details">
            <h1>No internet</h1>
            <p>Try:</p>
            <ul>
                <li>Checking the network cables, modem, and router</li>
                <li>Reconnecting to Wi-Fi</li>
            </ul>
            <p class="error-code">ERR_INTERNET_DISCONNECTED</p>
        </div>
        <div id="offline-resources">
            <img id="offline-resources-2x" src="assets/default_200_percent/200-offline-sprite.png">
            <template id="audio-resources">
                <audio id="offline-sound-press" src="sounds/limp-yeah.mp3"></audio>
                <audio id="offline-sound-hit" src="sounds/hit.mp3"></audio>
                <audio id="offline-sound-reached" src="sounds/score-reached.mp3"></audio>
                <audio id="happy-b8-song" src="sounds/limp-mix.mp3"></audio>
                <audio id="main-song" src="sounds/maneskin.mp3"></audio>
                <audio id="misha1" src="sounds/misha1.mp3"></audio>
                <audio id="misha2" src="sounds/misha2.mp3"></audio>
                <audio id="ramazan" src="sounds/ramazan.mp3"></audio>
                <audio id="q" src="sounds/klitschko.mp3"></audio>
                <audio id="ana1" src="sounds/ana1.mp3"></audio>
                <audio id="ana2" src="sounds/ana2.mp3"></audio>
                <audio id="ana3" src="sounds/ana3.mp3"></audio>
                <audio id="nicole" src="sounds/nicole.mp3"></audio>
                <audio id="slava" src="sounds/slava.mp3"></audio>
                <audio id="elham" src="sounds/elham.mp3"></audio>
            </template>
        </div>
    </div>
</body>

<script>
    const consoleWrapper = {
        log: (message, options) => {
            const defaultOptions = {color: 'red', fontSize: '3rem', delay: 0}
            const optionsToUse = {...defaultOptions, ...options}
            setTimeout(
              () => {
                  console.log(
                    `%c${message}`, // everything after the %c is styled
                    `color: ${optionsToUse.color}; font-weight: bold; font-size: ${optionsToUse.fontSize};`,
                  )
              },
              optionsToUse.delay,
            )
        },
    }
    const messages = {
        neTupi: `Mario, it's time to press SPACE!`,
        goodJob: 'Good job! ðŸ¥³',
        timeToDominate: `Now it's time to score a lot of points ðŸ˜Ž`,
        rememberAboutSound: 'Remember to increase the volume ðŸ”ˆ'
    }
    let isInstructionsPrinted = false;

    window.addEventListener('load', () => {
        consoleWrapper.log(messages.neTupi)
    })
    // window.addEventListener('beforeunload', (event) => {
    //     event.preventDefault()
    //     event.returnValue = messages.neTupi
    // })

    document.addEventListener('keydown', (event) => {
        if (window.Runner && window.Runner.instance_ && window.Runner.instance_.soundsLoaded) {
            if (['Space', 'ArrowUp'].includes(event.code)) {
                // document.getElementById('messageBox').style.visibility = 'hidden'
                document.getElementById('details').style.visibility = 'hidden'

                if (!isInstructionsPrinted) {
                    console.clear()
                    consoleWrapper.log(messages.goodJob, {color: 'green'})
                    consoleWrapper.log(messages.timeToDominate, {color: 'green', fontSize: '2rem', delay: 1000})
                    consoleWrapper.log(messages.rememberAboutSound, {color: 'green', fontSize: '2rem', delay: 2000})
                    isInstructionsPrinted = true
                }
            }
        }
    })
</script>

</html>
